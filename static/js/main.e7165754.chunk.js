(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{127:function(e,t,a){"use strict";a.r(t);a(66),a(91);var n=a(0),i=a.n(n),l=a(38),o=a.n(l),s=a(22),c=a.n(s),r=a(23),d=a(24),u=a(26),m=a(25),h=a(27),b=a(5),p=(a(114),a(39)),v=a.n(p),f=a(17),E=a(63),w=a.n(E),g=a(64),C=a.n(g),y=a(28),j=a.n(y),k=a(40),O=a.n(k),x=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={rights:e.rights,mode:e.mode,opened:!1},a.toggleContext=a.toggleContext.bind(Object(f.a)(Object(f.a)(a))),a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"toggleContext",value:function(){this.setState({opened:!this.state.opened})}},{key:"render",value:function(){return"editor"===this.state.rights||"admin"===this.state.rights?i.a.createElement(b.PanelHeader,null,i.a.createElement(b.PanelHeaderContent,{aside:i.a.createElement(w.a,null),onClick:this.toggleContext},"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f"),i.a.createElement(b.HeaderContext,{opened:this.state.opened,onClose:this.toggleContext},i.a.createElement(b.List,null,i.a.createElement(b.Cell,{before:i.a.createElement(C.a,null),asideContent:"subscribe"===this.state.mode?i.a.createElement(j.a,{fill:"var(--accent)"}):i.a.createElement("div",{style:{width:"24px"}}),"data-mode":"subscribe"},"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f"),i.a.createElement(b.Cell,{before:i.a.createElement(O.a,null),asideContent:"statistic_full"===this.state.mode?i.a.createElement(j.a,{fill:"var(--accent)"}):i.a.createElement("div",{style:{width:"24px"}}),"data-mode":"statistic_full"},"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430"),i.a.createElement(b.Cell,{before:i.a.createElement(O.a,null),asideContent:"statistic_cur"===this.state.mode?i.a.createElement(j.a,{fill:"var(--accent)"}):i.a.createElement("div",{style:{width:"24px"}}),"data-mode":"statistic_cur"},"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u0442\u0435\u043a\u0443\u0449\u0438\u0439 \u0441\u0435\u0437\u043e\u043d")))):i.a.createElement(b.PanelHeader,null,"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f")}}]),t}(i.a.Component),_=a(126).sprintf,P=function(e){function t(e){var a;Object(r.a)(this,t),a=Object(u.a)(this,Object(m.a)(t).call(this,e));var n=v.a.parse(window.location.search);return a.state={mode:"subscribe",rights:n.vk_viewer_group_role,userId:n.vk_user_id},a.subscribeTitles=void 0,a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"selectScreen",value:function(){}},{key:"componentDidMount",value:function(){var e=new FormData,t=v.a.parse(window.location.search);for(var a in t)e.append(a,t[a]);fetch(_("https://api.sovetromantica.com/api/v1/notify/vkapp/%s/get",this.state.userId),{method:"POST",body:e}).then(function(e){var t=this;e.ok&&e.json().then(function(e){return t.subscribeTitle=e})})}},{key:"render",value:function(){return i.a.createElement(b.Root,{activeView:"sub-title"},i.a.createElement(b.View,{id:"sub-title",activePanel:this.state.mode},i.a.createElement(b.Panel,{id:"subscribe"},i.a.createElement(x,{rights:this.state.rights,mode:this.state.mode}),i.a.createElement(b.Search,null),this.subscribeTitles,i.a.createElement(b.Group,{title:"\u0421\u043f\u0438\u0441\u043e\u043a \u0442\u0430\u0439\u0442\u043b\u043e\u0432"},i.a.createElement(b.Div,null)))))}}]),t}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.subscribe(function(e){switch(e.detail.type){case"VKWebAppUpdateConfig":var t=document.createAttribute("scheme");t.value=e.detail.data.scheme?e.detail.data.scheme:"client_light",document.body.attributes.setNamedItem(t);break;default:console.log(e.detail.type)}}),c.a.send("VKWebAppInit",{}),o.a.render(i.a.createElement(P,null),document.getElementById("root"))},65:function(e,t,a){e.exports=a(127)}},[[65,1,2]]]);
//# sourceMappingURL=main.e7165754.chunk.js.map